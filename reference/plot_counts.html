<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot code frequencies — plot_counts • DedooseR</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot code frequencies — plot_counts"><meta name="description" content="This function takes the output of count_codes() and produces a bar plot of
code frequencies using ggplot2. It supports excluding specific codes,
filtering by absolute count, or filtering by proportion of the maximum count.
The user can choose whether to plot the total excerpt frequency (count) or
the number of distinct media titles containing each code (n_media_titles)."><meta property="og:description" content="This function takes the output of count_codes() and produces a bar plot of
code frequencies using ggplot2. It supports excluding specific codes,
filtering by absolute count, or filtering by proportion of the maximum count.
The user can choose whether to plot the total excerpt frequency (count) or
the number of distinct media titles containing each code (n_media_titles)."><meta property="og:image" content="https://abiraahmi.github.io/DedooseR/reference/figures/sticker.png"><meta property="og:image:alt" content="DedooseR package hex sticker"><link rel="icon" type="image/png" href="reference/figures/sticker.png"><style>
  .navbar {
    background-color: #330662 !important;
  }
  .navbar-dark .navbar-nav .nav-link {
    color: rgba(255, 255, 255, 0.85);
  }
  .navbar-dark .navbar-nav .nav-link:hover {
    color: rgba(255, 255, 255, 1);
  }
</style></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">DedooseR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/abiraahmi/DedooseR" aria-label="GitHub repository"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot code frequencies</h1>
      <small class="dont-index">Source: <a href="https://github.com/abiraahmi/DedooseR/blob/main/R/plot_counts.R" class="external-link"><code>R/plot_counts.R</code></a></small>
      <div class="d-none name"><code>plot_counts.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function takes the output of <code><a href="count_codes.html">count_codes()</a></code> and produces a bar plot of
code frequencies using <code>ggplot2</code>. It supports excluding specific codes,
filtering by absolute count, or filtering by proportion of the maximum count.
The user can choose whether to plot the total excerpt frequency (<code>count</code>) or
the number of distinct media titles containing each code (<code>n_media_titles</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_counts</span><span class="op">(</span></span>
<span>  <span class="va">code_counts</span>,</span>
<span>  exclude_codes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  min_count <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  min_prop <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"count"</span>, <span class="st">"n_media_titles"</span><span class="op">)</span>,</span>
<span>  fill_color <span class="op">=</span> <span class="st">"steelblue"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-code-counts">code_counts<a class="anchor" aria-label="anchor" href="#arg-code-counts"></a></dt>
<dd><p>A tibble or data frame output from <code><a href="count_codes.html">count_codes()</a></code>. Must
contain at least the columns <code>code</code>, <code>count</code>, and <code>n_media_titles</code>.</p></dd>


<dt id="arg-exclude-codes">exclude_codes<a class="anchor" aria-label="anchor" href="#arg-exclude-codes"></a></dt>
<dd><p>A character vector of code names to exclude from the plot.
Defaults to <code>NULL</code> (no exclusions).</p></dd>


<dt id="arg-min-count">min_count<a class="anchor" aria-label="anchor" href="#arg-min-count"></a></dt>
<dd><p>An integer specifying the minimum absolute count for a code
to be included. Defaults to <code>NULL</code>.</p></dd>


<dt id="arg-min-prop">min_prop<a class="anchor" aria-label="anchor" href="#arg-min-prop"></a></dt>
<dd><p>A numeric value between 0 and 1 specifying the minimum
proportion (relative to the maximum of the chosen metric) required for a
code to be included. Defaults to <code>NULL</code>.</p></dd>


<dt id="arg-metric">metric<a class="anchor" aria-label="anchor" href="#arg-metric"></a></dt>
<dd><p>Which metric to plot. One of <code>"count"</code> (excerpt frequency) or
<code>"n_media_titles"</code> (media title coverage). Defaults to <code>"count"</code>.</p></dd>


<dt id="arg-fill-color">fill_color<a class="anchor" aria-label="anchor" href="#arg-fill-color"></a></dt>
<dd><p>A character string giving the fill color for the bars.
Defaults to <code>"steelblue"</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>ggplot</code> object showing code frequencies.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<ul><li><p>Codes can be filtered either by absolute count (<code>min_count</code>) or by proportion
of the maximum (<code>min_prop</code>). If both are supplied, <em>both filters are applied</em>.</p></li>
<li><p>Codes listed in <code>exclude_codes</code> are removed prior to filtering.</p></li>
<li><p>The <code>metric</code> argument controls whether the y-axis shows excerpt frequency or
number of unique media titles containing the code.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example data</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  media_title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Doc1"</span>, <span class="st">"Doc1"</span>, <span class="st">"Doc2"</span>, <span class="st">"Doc2"</span>, <span class="st">"Doc3"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  c_theme1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  c_theme2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  c_theme3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">code_counts</span> <span class="op">&lt;-</span> <span class="fu"><a href="count_codes.html">count_codes</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot excerpt frequencies</span></span></span>
<span class="r-in"><span><span class="fu">plot_counts</span><span class="op">(</span><span class="va">code_counts</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_counts-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot by media-title coverage</span></span></span>
<span class="r-in"><span><span class="fu">plot_counts</span><span class="op">(</span><span class="va">code_counts</span>, metric <span class="op">=</span> <span class="st">"n_media_titles"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_counts-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Exclude one code</span></span></span>
<span class="r-in"><span><span class="fu">plot_counts</span><span class="op">(</span><span class="va">code_counts</span>, exclude_codes <span class="op">=</span> <span class="st">"c_theme2"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_counts-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Filter by absolute count</span></span></span>
<span class="r-in"><span><span class="fu">plot_counts</span><span class="op">(</span><span class="va">code_counts</span>, min_count <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_counts-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Filter by proportion (keep codes at least 50% of max)</span></span></span>
<span class="r-in"><span><span class="fu">plot_counts</span><span class="op">(</span><span class="va">code_counts</span>, min_prop <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_counts-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Abiraahmi Shankar, Catalina Cañizares, Francisco Cardozo, Pamela Morris-Perez.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

