% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_saturation.R
\name{plot_saturation}
\alias{plot_saturation}
\title{Plot Code Saturation by Quality Indicators}
\usage{
plot_saturation(
  df_all_summary,
  df_qual_summary,
  qual_indicators = NULL,
  min_counts = NULL,
  stacked = TRUE,
  as_proportion = FALSE
)
}
\arguments{
\item{df_all_summary}{A data frame (tibble) summarizing codes, must contain at
least \code{Code} and \code{total_preferred_coder} columns.}

\item{df_qual_summary}{A data frame (tibble) containing quality indicator counts
per code. Must have columns matching \code{paste0(qual_indicators, "_Count")} and
a \code{Code} column.}

\item{qual_indicators}{A character vector of quality indicator names to plot
(e.g., \code{c("Priority excerpt", "Heterogeniety")}). These determine which
columns to use and filter on.}

\item{min_counts}{Optional named numeric vector specifying minimum counts for
each quality indicator to include a code
(e.g., \code{c("Priority excerpt" = 20, "Heterogeniety" = 30)}). Codes with
counts below these thresholds for the respective quality indicators will be
excluded.}

\item{stacked}{Logical; if \code{TRUE} (default), bars for quality indicators will
be stacked; if \code{FALSE}, bars will be dodged (side-by-side).}

\item{as_proportion}{Logical; if \code{TRUE}, the y-axis will represent
proportions of counts per code rather than raw counts.}
}
\value{
A \code{ggplot} object displaying the counts or proportions of quality
indicator annotations by code.
}
\description{
Creates a horizontal stacked or dodged bar plot visualizing counts or
proportions of quality indicator annotations per code.
Only codes that have \emph{all} specified quality indicators present at least
once (count > 0) are shown.
}
\details{
\itemize{
\item The function filters to only display codes that have counts greater than
zero for \emph{all} specified quality indicators.
\item The plot orders codes by descending total counts from
\code{total_preferred_coder}.
\item Colors are generated with a discrete gradient palette for visual clarity.
\item Input data frames should be outputs from \code{summarize_codes()} and
\code{quality_indicators()} functions or have equivalent structure.
}
}
\examples{
\dontrun{
summary_data <- summarize_codes(excerpts, preferred_coders,
output_type = "tibble")
quality_data <- quality_indicators(excerpts, preferred_coders,
qual_indicators = c("Priority excerpt", "Heterogeniety"))

plot_saturation(
  summary_data,
  quality_data,
  qual_indicators = c("Priority excerpt", "Heterogeniety"),
  min_counts = c("Priority excerpt" = 3, "Heterogeniety" = 3),
  stacked = TRUE,
  as_proportion = FALSE
)
}

}
