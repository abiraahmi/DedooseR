% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/clean_data.R
\name{clean_data}
\alias{clean_data}
\title{Clean and standardize coded qualitative excerpts}
\usage{
clean_data(excerpts, preferred_coders, rename_vars = NULL, relabel_vars = NULL)
}
\arguments{
\item{excerpts}{A data frame containing coded excerpts (e.g., exported from Dedoose).}

\item{preferred_coders}{A character vector listing coders in order of preference (e.g.,
\code{c("coder1", "coder2")}). Used to select the preferred version of each excerpt.}

\item{rename_vars}{Optional named list or vector of variables to rename, in the format
\code{c(oldname = "newname")}.}

\item{relabel_vars}{Optional named list of new variable labels, in the format
\code{list(varname = "new label")}.}
}
\value{
A list with two elements:
\describe{
\item{data}{The cleaned and filtered excerpt dataset.}
\item{codebook}{A data frame listing variable names, labels, and data types.}
}
}
\description{
Cleans, standardizes, and labels a dataset of coded qualitative excerpts
(e.g., exported from Dedoose or a similar platform). The function performs
the following key operations:
\enumerate{
\item Standardizes column names to lowercase and replaces spaces with underscores.
\item Renames \code{excerpt_copy} to \code{excerpt} if present.
\item Removes columns ending with "range" or "weight".
\item Converts all code columns (those starting with "code" and ending with "applied")
into logical (\code{TRUE}/\code{FALSE}) variables.
\item Cleans and renames code variables using a \code{c_} prefix.
\item Filters the dataset to retain excerpts from a preferred coder (based on rank order).
\item Adds descriptive variable labels using the \code{labelled} package â€” including restoring
code labels to their original names (without prefixes and underscores).
\item Optionally renames or relabels variables.
\item Removes columns that are entirely \code{NA}.
\item Generates a codebook summarizing variable names, labels, and types.
}
}
